<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Font Awesome -->
<link
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
rel="stylesheet"
/>
<!-- Google Fonts -->
<link
href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
rel="stylesheet"
/>
<!-- MDB -->
<link
href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.css"
rel="stylesheet"
/>
</head>
<script>
 let checkcompleted=(event) =>{
console.log(event.parentElement.innerHTML);


fetch('http://localhost:3000/api/v1/todos/todos', 
{
    method: "POST", // *GET, POST, PUT, DELETE, etc.
    mode: "cors", // no-cors, *cors, same-origin
    cache: "no-cache", // *default, no-cache, reload, force-cache, only-if-cached
    credentials: "same-origin", // include, *same-origin, omit
    headers: {
      "Content-Type": "application/json",
      // 'Content-Type': 'application/x-www-form-urlencoded',
    },
    redirect: "follow", // manual, *follow, error
    referrerPolicy: "no-referrer", // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url
    body: JSON.stringify({name:event.parentElement.innerHTML}), // body data type must match "Content-Type" header
  }




)
        .then(response => {
          response.json()
          if (response.status == 200) {
            window.location.href="http://localhost:3000/api/v1/todos"
          }
        })
        .then(response => {
          console.log("response", response)
        })


 }



  
</script>
<body>
    <section class="vh-100" style="background-color: #e2d5de;">
        <div class="container py-5 h-100">
          <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col col-xl-10">
      
              <div class="card" style="border-radius: 15px;">
                <div class="card-body p-5">
      
                  <h6 class="mb-3">Awesome Todo List</h6>
      
                  <form class="d-flex justify-content-center align-items-center mb-4" action="/api/v1/todos" method="post" enctype="multipart/form-data">
                    <div class="form-outline flex-fill">
                      <input type="text" id="form3" class="form-control form-control-lg" name="todo"/>
                      <label class="form-label" for="form3">What do you need to do today?</label>
                    </div>
                    <button type="submit" class="btn btn-primary btn-lg ms-2">Add</button>
                  </form>


                  <form class="d-flex justify-content-center align-items-center mb-4" action="/api/v1/todos" method="post" enctype="multipart/form-data">
                  
                    <button class="btn btn-primary btn-lg ms-2"><a href="http://localhost:3000/api/v1/deleteall" style="color: red;">DELETE ALL</a></button>
                  </form>
                  <ul class="list-group mb-0">{{todoItem}}</ul>
                </div>
              </div>
      
            </div>
          </div>
        </div>
      </section>
</body>
<!-- MDB -->

<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.js"
></script>
</html>